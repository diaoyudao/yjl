function FILE_UPLOAD(e,s,i,r,t){var o;var e=e||"#file-list";var s=s||"#file-picker";var r=r||"/1fd3ab97ee/upload/file/upload";var i=i||"#file-start";var n=3*1024*1024;var a=null;var l=$(e);var u=$(i);var t=t||function(e,s){console.log("uploadSuccess begin");console.log(s);if(s.status&&"ok"==s.status){$("input[name=handbook_url]").val(s.url);p(e,"文件已上传完毕！")}else{$("input[name=handbook_url]").val("");p(e,"上传出错，请重新选择文件后再次上传！")}};this.init=function(){o=new WebUploader.Uploader({swf:"/public/huiadmin/lib/webuploader/0.1.5/Uploader.swf",chunked:false,chunkSize:n,chunkRetry:3,threads:1,duplicate:true,server:r,pick:{id:s,multiple:false},resize:false,prepareNextFile:true,formData:{uniqueFileName:a}});o.on("beforeFileQueued",function(e){d(e,"等待上传，请点击开始上传...")});o.on("uploadProgress",function(s,i){console.log("uploadProgress begin");var r=$("#"+s.id+e.substring(1)),t=r.find(".progress .progress-bar");if(!t.length){t=$('<div class="progress progress-striped active">'+'<div class="progress-bar" role="progressbar" style="width: 0%">'+"</div>"+"</div>").appendTo(r).find(".progress-bar")}r.find("p.state").text("上传中...");t.css("width",i*100+"%")});o.on("uploadSuccess",t);o.on("uploadError",function(s){$("#"+s.id+e.substring(1)).find("p.state").text("上传出错，请重新选择文件后再次上传!")});o.on("uploadComplete",function(s){if($("#"+s.id+e.substring(1)).find(".progress")){$("#"+s.id+e.substring(1)).find(".progress").fadeOut()}u.text("开始上传")});u.on("click",function(){var e=u.text();if(e==="暂停上传"){o.stop(true);u.text("开始上传")}else{u.text("暂停上传");o.upload()}})};var d=function(s,i){console.log("createQueueFile begin");l.empty();l.append('<div id="'+s.id+e.substring(1)+'" class="item">'+'<h4 class="info">'+s.name+"</h4>"+'<p class="state">'+i+"</p>"+"</div>");u.text("开始上传")};var p=function(s,i){$("#"+s.id+e.substring(1)).find("p.state").text(i);console.log(s.id+e);console.log($("#"+s.id+e.substring(1)))}}